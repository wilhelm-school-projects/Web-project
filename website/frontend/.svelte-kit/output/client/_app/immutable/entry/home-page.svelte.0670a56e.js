import{S as st,i as rt,s as nt,k as i,a as I,y as Q,l as d,m as f,c as w,z as W,h as c,n as e,b as U,G as a,A as X,g as Y,d as Z,P as Nt,B as tt,o as ft,q as j,r as T,H as P,J as wt,K as kt,N as et,L as Bt,O as At}from"../chunks/index.c5e23121.js";import{B as Ot,a as jt,G as Tt}from"../chunks/Game.68e39d52.js";import{s as Mt}from"../chunks/index.eaa444e6.js";import{a as Ct,g as at}from"../chunks/stores.ceeaf047.js";function Lt(h,t){let n=document.getElementById(h);n==null&&console.log("Trying to fuse attributes to "+h+", but it is null or undifined!");for(const[s,r]of Object.entries(t))n==null||n.setAttribute(s,r)}function Ht(h){let t=document.getElementById(h);document.getElementsByClassName("modal-backdrop")[0].remove(),t.style.display="none"}function Dt(h,t,n){const s=h.slice();return s[3]=t[n],s[5]=n,s}function Vt(h){let t,n=h[1][h[5]]+"",s;return{c(){t=i("a"),s=j(n),this.h()},l(r){t=d(r,"A",{id:!0,class:!0,href:!0});var o=f(t);s=T(o,n),o.forEach(c),this.h()},h(){e(t,"id","anchor-"+h[3]),e(t,"class","col text-center btn btn-outline-secondary svelte-1d4vcpx"),e(t,"href",h[3])},m(r,o){U(r,t,o),a(t,s)},p:P,d(r){r&&c(t)}}}function Pt(h){let t,n,s,r,o=h[0],v=[];for(let u=0;u<o.length;u+=1)v[u]=Vt(Dt(h,o,u));return s=new Ot({}),{c(){t=i("nav");for(let u=0;u<v.length;u+=1)v[u].c();n=I(),Q(s.$$.fragment),this.h()},l(u){t=d(u,"NAV",{id:!0,class:!0});var m=f(t);for(let l=0;l<v.length;l+=1)v[l].l(m);n=w(m),W(s.$$.fragment,m),m.forEach(c),this.h()},h(){e(t,"id","bottom-navbar"),e(t,"class","navbar fixed-bottom row padding-bottom justify-content-center d-flex svelte-1d4vcpx")},m(u,m){U(u,t,m);for(let l=0;l<v.length;l+=1)v[l]&&v[l].m(t,null);a(t,n),X(s,t,null),r=!0},p(u,[m]){if(m&3){o=u[0];let l;for(l=0;l<o.length;l+=1){const _=Dt(u,o,l);v[l]?v[l].p(_,m):(v[l]=Vt(_),v[l].c(),v[l].m(t,n))}for(;l<v.length;l+=1)v[l].d(1);v.length=o.length}},i(u){r||(Y(s.$$.fragment,u),r=!0)},o(u){Z(s.$$.fragment,u),r=!1},d(u){u&&c(t),Nt(v,u),tt(s)}}}function qt(h){let t=["/home",""],n=["Settings","I am bored"];function s(){let r={"data-bs-toggle":"modal","data-bs-target":"#modal-game-type"},o="anchor-"+t.at(1);Lt(o,r)}return ft(s),[t,n]}class Gt extends st{constructor(t){super(),rt(this,t,qt,Pt,nt,{})}}function Rt(h){let t,n,s,r,o,v,u,m,l,_,g,p,D,H,b;return{c(){t=i("main"),n=i("div"),s=i("form"),r=i("div"),o=i("label"),v=j("Canvas Name"),u=I(),m=i("input"),l=I(),_=i("div"),g=i("div"),p=i("a"),D=j("Connect"),this.h()},l(E){t=d(E,"MAIN",{});var y=f(t);n=d(y,"DIV",{class:!0});var V=f(n);s=d(V,"FORM",{class:!0,action:!0});var x=f(s);r=d(x,"DIV",{class:!0});var $=f(r);o=d($,"LABEL",{class:!0,for:!0});var q=f(o);v=T(q,"Canvas Name"),q.forEach(c),u=w($),m=d($,"INPUT",{class:!0,type:!0}),$.forEach(c),l=w(x),_=d(x,"DIV",{class:!0});var k=f(_);g=d(k,"DIV",{class:!0});var A=f(g);p=d(A,"A",{id:!0,class:!0,href:!0});var B=f(p);D=T(B,"Connect"),B.forEach(c),A.forEach(c),k.forEach(c),x.forEach(c),V.forEach(c),y.forEach(c),this.h()},h(){e(o,"class","col"),e(o,"for",""),e(m,"class","col rounded"),e(m,"type","text"),e(r,"class","row"),e(p,"id","anchor-game-client"),e(p,"class","col text-center btn btn-outline-secondary"),e(p,"href",""),e(g,"class","col d-flex justify-content-center"),e(_,"class","row"),e(s,"class","row"),e(s,"action",""),e(n,"class","row d-flex justify-content-center")},m(E,y){U(E,t,y),a(t,n),a(n,s),a(s,r),a(r,o),a(o,v),a(r,u),a(r,m),wt(m,h[0]),a(s,l),a(s,_),a(_,g),a(g,p),a(p,D),H||(b=kt(m,"input",h[1]),H=!0)},p(E,[y]){y&1&&m.value!==E[0]&&wt(m,E[0])},i:P,o:P,d(E){E&&c(t),H=!1,b()}}}let St="/game/client";function Ut(h,t,n){let s="",r,o=!0,v=et(Ct);ft(()=>{let m=document.getElementById("anchor-game-client");m==null||m.addEventListener("click",async l=>{if(l.target===null)throw Error("event is null");if(o){if(Ht("modal-game-type"),at.set(new jt("game-canvas",s,v)),r=et(at),!await r.canvasExists()){console.log("Couldn't connect to canvas");return}o=!1,l.target.click();return}l.target.href=St})});function u(){s=this.value,n(0,s)}return[s,u]}class Ft extends st{constructor(t){super(),rt(this,t,Ut,Rt,nt,{})}}function zt(h){let t,n,s,r,o,v,u,m,l,_,g,p;return{c(){t=i("main"),n=i("div"),s=i("form"),r=i("div"),o=i("h2"),v=I(),u=i("p"),m=I(),l=i("div"),_=i("div"),g=i("a"),p=j("Host"),this.h()},l(D){t=d(D,"MAIN",{});var H=f(t);n=d(H,"DIV",{class:!0});var b=f(n);s=d(b,"FORM",{class:!0,action:!0});var E=f(s);r=d(E,"DIV",{class:!0});var y=f(r);o=d(y,"H2",{class:!0}),f(o).forEach(c),v=w(y),u=d(y,"P",{class:!0}),f(u).forEach(c),y.forEach(c),m=w(E),l=d(E,"DIV",{class:!0});var V=f(l);_=d(V,"DIV",{class:!0});var x=f(_);g=d(x,"A",{id:!0,class:!0,href:!0});var $=f(g);p=T($,"Host"),$.forEach(c),x.forEach(c),V.forEach(c),E.forEach(c),b.forEach(c),H.forEach(c),this.h()},h(){e(o,"class",""),e(u,"class","text-secondary"),e(r,"class","row"),e(g,"id","anchor-game-host"),e(g,"class","col text-center btn btn-outline-secondary"),e(g,"href",""),e(_,"class","col d-flex justify-content-center"),e(l,"class","row"),e(s,"class","row"),e(s,"action",""),e(n,"class","row d-flex justify-content-center")},m(D,H){U(D,t,H),a(t,n),a(n,s),a(s,r),a(r,o),a(r,v),a(r,u),a(s,m),a(s,l),a(l,_),a(_,g),a(g,p)},p:P,i:P,o:P,d(D){D&&c(t)}}}let Jt="/game/host";function Kt(h){let t,n=!0,s=et(Ct);return ft(()=>{let r=document.getElementById("anchor-game-host");r==null||r.addEventListener("click",async o=>{if(o.target===null)throw Error("event is null");if(n){if(at.set(new Tt("game-canvas",s)),t=et(at),!await t.initiateCanvas()){console.log("Canvas couldn't be initiated");return}Ht("modal-game-type"),n=!1,o.target.click();return}o.target.href=Jt})}),[]}class Qt extends st{constructor(t){super(),rt(this,t,Kt,zt,nt,{})}}function Wt(h){let t,n,s,r,o,v,u,m,l,_,g,p,D,H,b,E,y,V,x,$,q,k,A,B,lt,S,ot,M,G,ct,it,R,F,dt,L,ut,z;return $=new Qt({}),B=new Ft({}),L=new Gt({}),{c(){t=i("main"),n=i("div"),s=i("div"),r=i("div"),o=i("div"),v=i("h5"),u=j("Open drawing pane"),m=I(),l=i("button"),_=I(),g=i("div"),p=i("button"),D=j("Host"),H=I(),b=i("button"),E=j("Connect"),y=I(),V=i("div"),x=i("div"),Q($.$$.fragment),q=I(),k=i("div"),A=i("div"),Q(B.$$.fragment),lt=I(),S=i("div"),ot=I(),M=i("div"),G=i("p"),ct=j("ipsumquam ducimus"),it=I(),R=i("div"),F=i("div"),dt=I(),Q(L.$$.fragment),this.h()},l(C){t=d(C,"MAIN",{class:!0});var N=f(t);n=d(N,"DIV",{id:!0,class:!0,tabindex:!0});var vt=f(n);s=d(vt,"DIV",{class:!0});var mt=f(s);r=d(mt,"DIV",{class:!0});var O=f(r);o=d(O,"DIV",{class:!0});var J=f(o);v=d(J,"H5",{class:!0});var ht=f(v);u=T(ht,"Open drawing pane"),ht.forEach(c),m=w(J),l=d(J,"BUTTON",{type:!0,class:!0,"data-bs-dismiss":!0,"aria-label":!0}),f(l).forEach(c),J.forEach(c),_=w(O),g=d(O,"DIV",{class:!0});var K=f(g);p=d(K,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0});var gt=f(p);D=T(gt,"Host"),gt.forEach(c),H=w(K),b=d(K,"BUTTON",{class:!0,type:!0,"data-bs-toggle":!0,"data-bs-target":!0,"aria-expanded":!0,"aria-controls":!0});var pt=f(b);E=T(pt,"Connect"),pt.forEach(c),K.forEach(c),y=w(O),V=d(O,"DIV",{class:!0,id:!0});var _t=f(V);x=d(_t,"DIV",{class:!0});var bt=f(x);W($.$$.fragment,bt),bt.forEach(c),_t.forEach(c),q=w(O),k=d(O,"DIV",{class:!0,id:!0});var Et=f(k);A=d(Et,"DIV",{class:!0});var yt=f(A);W(B.$$.fragment,yt),yt.forEach(c),Et.forEach(c),O.forEach(c),mt.forEach(c),vt.forEach(c),lt=w(N),S=d(N,"DIV",{class:!0}),f(S).forEach(c),ot=w(N),M=d(N,"DIV",{id:!0,class:!0});var $t=f(M);G=d($t,"P",{class:!0});var xt=f(G);ct=T(xt,"ipsumquam ducimus"),xt.forEach(c),$t.forEach(c),it=w(N),R=d(N,"DIV",{class:!0});var It=f(R);F=d(It,"DIV",{}),f(F).forEach(c),It.forEach(c),dt=w(N),W(L.$$.fragment,N),N.forEach(c),this.h()},h(){e(v,"class","modal-title"),e(l,"type","button"),e(l,"class","btn-close"),e(l,"data-bs-dismiss","modal"),e(l,"aria-label","Close"),e(o,"class","modal-header"),e(p,"class","col btn btn-primary"),e(p,"type","button"),e(p,"data-bs-toggle","collapse"),e(p,"data-bs-target","#connector-host"),e(p,"aria-expanded","false"),e(p,"aria-controls","connector-host"),e(b,"class","col btn btn-primary"),e(b,"type","button"),e(b,"data-bs-toggle","collapse"),e(b,"data-bs-target","#connector-client"),e(b,"aria-expanded","false"),e(b,"aria-controls","connector-client"),e(g,"class","modal-body row"),e(x,"class","card card-body d-flex justify-content-center"),e(V,"class","collapse"),e(V,"id","connector-host"),e(A,"class","card card-body"),e(k,"class","collapse"),e(k,"id","connector-client"),e(r,"class","modal-content"),e(s,"class","modal-dialog"),e(n,"id","modal-game-type"),e(n,"class","modal"),e(n,"tabindex","-1"),e(S,"class","col-1 border bg-danger"),e(G,"class","display-2"),e(M,"id","content"),e(M,"class","col bg-info text-white"),e(R,"class","col-1 border bg-danger"),e(t,"class","row d-flex justify-content-center text-info")},m(C,N){U(C,t,N),a(t,n),a(n,s),a(s,r),a(r,o),a(o,v),a(v,u),a(o,m),a(o,l),a(r,_),a(r,g),a(g,p),a(p,D),a(g,H),a(g,b),a(b,E),a(r,y),a(r,V),a(V,x),X($,x,null),a(r,q),a(r,k),a(k,A),X(B,A,null),a(t,lt),a(t,S),a(t,ot),a(t,M),a(M,G),a(G,ct),a(t,it),a(t,R),a(R,F),a(t,dt),X(L,t,null),z=!0},p:P,i(C){z||(Y($.$$.fragment,C),Y(B.$$.fragment,C),Y(L.$$.fragment,C),ut||Bt(()=>{ut=At(t,Mt,{axis:"x",duration:700}),ut.start()}),z=!0)},o(C){Z($.$$.fragment,C),Z(B.$$.fragment,C),Z(L.$$.fragment,C),z=!1},d(C){C&&c(t),tt($),tt(B),tt(L)}}}class ee extends st{constructor(t){super(),rt(this,t,null,Wt,nt,{})}}export{ee as default};
