import{S as A,i as B,s as C,k as g,q as E,a as w,l as b,m as $,r as x,h as _,c as I,n as v,b as y,G as h,J as q,K as T,H as G,M as K,N as V,y as H,z as M,A as S,g as N,d as k,B as U,P as F,o as J,u as Q,I as R}from"../chunks/index.c5e23121.js";import{G as W,B as X}from"../chunks/Game.0d1032dc.js";import{g as j}from"../chunks/stores.02c1acf2.js";import{p as Y}from"../chunks/stores.90d21137.js";function Z(c){let t,n,e,l,o,r;return{c(){t=g("button"),n=E("Invite"),e=w(),l=g("input"),this.h()},l(i){t=b(i,"BUTTON",{id:!0,class:!0});var u=$(t);n=x(u,"Invite"),u.forEach(_),e=I(i),l=b(i,"INPUT",{type:!0,class:!0}),this.h()},h(){v(t,"id","button-invite"),v(t,"class","col text-white bg-danger btn btn-primary btn-outline-secondary"),v(l,"type","email"),v(l,"class","col text-secondary input-outline-danger")},m(i,u){y(i,t,u),h(t,n),y(i,e,u),y(i,l,u),q(l,c[0]),o||(r=[T(t,"click",c[1]),T(l,"focus",c[2]),T(l,"input",c[3])],o=!0)},p(i,[u]){u&1&&l.value!==i[0]&&q(l,i[0])},i:G,o:G,d(i){i&&_(t),i&&_(e),i&&_(l),o=!1,K(r)}}}function tt(c,t,n){let e="Email to invite",l=V(j);async function o(){try{await l.inviteUserToCanvas(e),n(0,e="")}catch(u){console.log("Error when inviting: "),console.log(u)}}const r=()=>n(0,e="");function i(){e=this.value,n(0,e)}return[e,o,r,i]}class et extends A{constructor(t){super(),B(this,t,tt,Z,C,{})}}function O(c,t,n){const e=c.slice();return e[1]=t[n],e[3]=n,e}function nt(c){let t,n;return t=new et({}),{c(){H(t.$$.fragment)},l(e){M(t.$$.fragment,e)},m(e,l){S(t,e,l),n=!0},i(e){n||(N(t.$$.fragment,e),n=!0)},o(e){k(t.$$.fragment,e),n=!1},d(e){U(t,e)}}}function z(c){let t,n=c[0][c[3]]+"",e,l;return{c(){t=g("button"),e=E(n),l=w(),this.h()},l(o){t=b(o,"BUTTON",{id:!0,class:!0});var r=$(t);e=x(r,n),l=I(r),r.forEach(_),this.h()},h(){v(t,"id","button-"+c[1]+"-drawing-pane"),v(t,"class","col text-dark text-center btn btn-outline-secondary svelte-1laoi5p")},m(o,r){y(o,t,r),h(t,e),h(t,l)},p:G,d(o){o&&_(t)}}}function at(c){let t,n,e,l=V(j)instanceof W,o,r,i;n=new X({});let u=l&&nt(),p=c[0],f=[];for(let a=0;a<p.length;a+=1)f[a]=z(O(c,p,a));return{c(){t=g("div"),H(n.$$.fragment),e=w(),u&&u.c(),o=w(),r=g("nav");for(let a=0;a<f.length;a+=1)f[a].c();this.h()},l(a){t=b(a,"DIV",{id:!0,class:!0});var m=$(t);M(n.$$.fragment,m),e=I(m),u&&u.l(m),m.forEach(_),o=I(a),r=b(a,"NAV",{id:!0,class:!0});var s=$(r);for(let d=0;d<f.length;d+=1)f[d].l(s);s.forEach(_),this.h()},h(){v(t,"id","bottom-navbar"),v(t,"class","navbar row padding-bottom justify-content-center d-flex svelte-1laoi5p"),v(r,"id","bottom-navbar"),v(r,"class","navbar row padding-bottom justify-content-center d-flex svelte-1laoi5p")},m(a,m){y(a,t,m),S(n,t,null),h(t,e),u&&u.m(t,null),y(a,o,m),y(a,r,m);for(let s=0;s<f.length;s+=1)f[s]&&f[s].m(r,null);i=!0},p(a,[m]){if(m&1){p=a[0];let s;for(s=0;s<p.length;s+=1){const d=O(a,p,s);f[s]?f[s].p(d,m):(f[s]=z(d),f[s].c(),f[s].m(r,null))}for(;s<f.length;s+=1)f[s].d(1);f.length=p.length}},i(a){i||(N(n.$$.fragment,a),N(u),i=!0)},o(a){k(n.$$.fragment,a),k(u),i=!1},d(a){a&&_(t),U(n),u&&u.d(),a&&_(o),a&&_(r),F(f,a)}}}function st(c){let t=["Draw","Clear","Settings"];return J(()=>{let n=document.getElementById("button-logout");n==null||n.classList.add("text-white","btn-primary");let e=document.getElementById("button-invite");e==null||e.classList.add("text-white")}),[t]}class lt extends A{constructor(t){super(),B(this,t,st,at,C,{})}}function rt(c){let t,n,e,l,o,r,i,u,p,f,a,m;return n=new lt({}),{c(){t=g("main"),H(n.$$.fragment),e=w(),l=g("div"),o=g("h4"),r=E(c[1]),i=E(", canvas ID: "),u=E(c[0]),p=w(),f=g("div"),a=g("canvas"),this.h()},l(s){t=b(s,"MAIN",{class:!0});var d=$(t);M(n.$$.fragment,d),e=I(d),l=b(d,"DIV",{class:!0});var L=$(l);o=b(L,"H4",{class:!0});var D=$(o);r=x(D,c[1]),i=x(D,", canvas ID: "),u=x(D,c[0]),D.forEach(_),L.forEach(_),p=I(d),f=b(d,"DIV",{id:!0,class:!0});var P=$(f);a=b(P,"CANVAS",{id:!0,class:!0}),$(a).forEach(_),P.forEach(_),d.forEach(_),this.h()},h(){v(o,"class","text-center col"),v(l,"class","row"),v(a,"id","game-canvas"),v(a,"class","svelte-oj7mwg"),v(f,"id","canvas-wrapper"),v(f,"class","row"),v(t,"class","game-container")},m(s,d){y(s,t,d),S(n,t,null),h(t,e),h(t,l),h(l,o),h(o,r),h(o,i),h(o,u),h(t,p),h(t,f),h(f,a),m=!0},p(s,[d]){(!m||d&1)&&Q(u,s[0])},i(s){m||(N(n.$$.fragment,s),m=!0)},o(s){k(n.$$.fragment,s),m=!1},d(s){s&&_(t),U(n)}}}function ot(c,t,n){let e;R(c,Y,i=>n(3,e=i));let l="",o=e.url.href.split("/").at(e.url.href.split("/").length-1),r;return J(()=>{r=V(j),console.log("Game:"),console.log(r),r.run(),console.log("i onmount"),console.log(r.canvasID),n(0,l=r.canvasID)}),[l,o]}class mt extends A{constructor(t){super(),B(this,t,ot,rt,C,{})}}export{mt as default};
